<div class="page-center">
  <form class="card stack-lg" [formGroup]="loginForm" (ngSubmit)="onSubmit()" novalidate>
    <header>
      <div>
        <h2>Bienvenido</h2>
        <div class="muted">Ingresa a tu cuenta</div>
      </div>
    </header>

    <div class="field">
      <label for="username" class="label">Usuario</label>
      <div class="control">
        <span class="input-icon">ğŸ‘¤</span>
        <input id="username" type="text" class="input"
               [class.valid]="username?.valid && (username?.dirty || username?.touched)"
               [class.invalid]="username?.invalid && (username?.dirty || username?.touched)"
               formControlName="username" placeholder="Tu usuario" />
      </div>
      <div *ngIf="username?.invalid && (username?.dirty || username?.touched)" class="error">
        El usuario es requerido.
      </div>
    </div>

    <div class="field">
      <label for="password" class="label">ContraseÃ±a</label>
      <div class="control">
        <span class="input-icon">ğŸ”’</span>
        <input [type]="showPassword ? 'text' : 'password'" id="password" class="input"
               [class.valid]="password?.valid && (password?.dirty || password?.touched)"
               [class.invalid]="password?.invalid && (password?.dirty || password?.touched)"
               formControlName="password" placeholder="Tu contraseÃ±a" />
        <button type="button" class="toggle-eye" (click)="togglePassword()" aria-label="Mostrar/Ocultar contraseÃ±a">
          {{ showPassword ? 'ğŸ™ˆ' : 'ğŸ‘ï¸' }}
        </button>
      </div>
      <div *ngIf="password?.invalid && (password?.dirty || password?.touched)" class="error">
        La contraseÃ±a es requerida.
      </div>
    </div>

    <button class="btn" type="submit" [disabled]="loading || loginForm.invalid">
      {{ loading ? 'Ingresandoâ€¦' : 'Ingresar' }}
    </button>

    <div class="error" *ngIf="errorMessage">{{ errorMessage }}</div>
  </form>
</div>
