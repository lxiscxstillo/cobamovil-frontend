<app-header></app-header>

<div class="page-center">
  <div class="card stack-lg" style="max-width:720px;">
    <header>
      <div>
        <h2>Mis Mascotas</h2>
        <div class="muted">Gestiona tus mascotas para reservar más rápido</div>
      </div>
    </header>

    <div class="error" *ngIf="error">{{ error }}</div>

    <div class="stack">
      <label class="label">Nombre</label>
      <input class="input" [(ngModel)]="model.name" placeholder="Nombre de la mascota" />

      <label class="label">Raza</label>
      <input class="input" [(ngModel)]="model.breed" placeholder="Raza" />

      <label class="label">Sexo</label>
      <select class="input" [(ngModel)]="model.sex">
        <option value="M">Macho</option>
        <option value="F">Hembra</option>
      </select>

      <div class="grid-2">
        <div>
          <label class="label">Edad (años)</label>
          <input class="input" type="number" [(ngModel)]="model.age" placeholder="Edad" />
        </div>
        <div>
          <label class="label">Peso (kg)</label>
          <input class="input" type="number" step="0.1" [(ngModel)]="model.weight" placeholder="Peso" />
        </div>
      </div>

      <label class="label">Comportamiento</label>
      <input class="input" [(ngModel)]="model.behavior" placeholder="tranquilo, nervioso, juguetón..." />

      <label class="label">Salud y cuidados especiales</label>
      <textarea class="input" [(ngModel)]="model.healthNotes" placeholder="alergias, condiciones médicas, vacunas, desparasitaciones"></textarea>

      <label class="label">Vacunas</label>
      <textarea class="input" [(ngModel)]="model.vaccinations" placeholder="Ej: Rabia (2025-01-10), Polivalente (2024-08-12)"></textarea>

      <label class="label">Desparasitación</label>
      <textarea class="input" [(ngModel)]="model.deworming" placeholder="Ej: Interna (2024-11-01), Externa (2024-09-15)"></textarea>

      <label class="label">Condiciones médicas</label>
      <textarea class="input" [(ngModel)]="model.medicalConditions" placeholder="Ej: alergia a pulgas, piel sensible"></textarea>

      <label class="label">Último servicio de peluquería</label>
      <input class="input" type="date" [(ngModel)]="model.lastGroomDate" />

      <button class="btn" (click)="add()">Añadir mascota</button>
    </div>

    <table class="table" *ngIf="items.length">
      <thead>
        <tr>
          <th>Nombre</th>
          <th>Raza</th>
          <th>Sexo</th>
          <th>Edad</th>
          <th>Peso</th>
          <th>Comportamiento</th>
          <th>Último servicio</th>
          <th>Acciones</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let p of items">
          <td>{{ p.name }}</td>
          <td>{{ p.breed || '—' }}</td>
          <td>{{ p.sex }}</td>
          <td>{{ p.age || '—' }}</td>
          <td>{{ p.weight || '—' }}</td>
          <td>{{ p.behavior || '—' }}</td>
          <td>{{ p.lastGroomDate || '—' }}</td>
          <td>
            <button class="btn" style="padding:6px 10px; background: linear-gradient(135deg,#ef4444,#f59e0b);" (click)="remove(p.id)">Eliminar</button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>

